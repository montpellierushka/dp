import{_ as N}from"./BVr2nheI.js";import R from"./C1Mbe6zW.js";import{_ as $}from"./Cfm1OL2t.js";import{r as x,c as i,b as m,a as e,y,v as a,x as d,j as o,F as g,p as f,E as B,G as D,w as I,H as K,o as p,t as v,d as E}from"./DKez8kYg.js";import{u as F}from"./9tO5H0Mi.js";const L={class:"min-h-screen bg-gray-100"},M={class:"max-w-3xl mx-auto py-6 sm:px-6 lg:px-8"},G={class:"px-4 py-6 sm:px-0"},H={class:"bg-white rounded-lg shadow-md p-6"},z={class:"space-y-4"},A={class:"space-y-2"},J=["onUpdate:modelValue"],O=["onClick"],P={class:"space-y-2"},Q={class:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mt-2"},W=["onUpdate:modelValue"],X=["onClick"],Y={class:"flex flex-wrap gap-2"},Z=["onClick"],ee=["onKeydown"],te={class:"flex justify-end gap-4"},ie={__name:"new",setup(se){const w=F(),_=K(),s=x({title:"",description:"",country:"",cookingTime:30,ingredients:[""],steps:[""],tags:[]}),u=x(""),k=()=>{s.value.ingredients.push("")},h=r=>{s.value.ingredients.splice(r,1)},V=()=>{s.value.steps.push("")},C=r=>{s.value.steps.splice(r,1)},U=()=>{u.value.trim()&&!s.value.tags.includes(u.value.trim())&&(s.value.tags.push(u.value.trim()),u.value="")},T=r=>{s.value.tags.splice(r,1)},S=()=>{const r={id:Date.now(),...s.value};w.addRecipe(r),_.push("/recipes")};return(r,t)=>{const q=N,b=R,j=$;return p(),i("div",L,[m(q),e("main",M,[e("div",G,[e("div",H,[t[14]||(t[14]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Добавить новый рецепт",-1)),e("form",{onSubmit:y(S,["prevent"]),class:"space-y-6"},[e("div",z,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Название рецепта",-1)),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o(s).title=n),type:"text",required:"",class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,o(s).title]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Страна",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o(s).country=n),type:"text",required:"",class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,o(s).country]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Время приготовления (минуты)",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>o(s).cookingTime=n),type:"number",required:"",min:"1",class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,o(s).cookingTime,void 0,{number:!0}]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Описание",-1)),a(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>o(s).description=n),required:"",rows:"3",class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,o(s).description]])])]),e("div",null,[e("div",{class:"flex justify-between items-center mb-2"},[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Ингредиенты",-1)),e("button",{type:"button",onClick:k,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," + Добавить ингредиент ")]),e("div",A,[(p(!0),i(g,null,f(o(s).ingredients,(n,l)=>(p(),i("div",{key:l,class:"flex items-center gap-2"},[a(e("input",{"onUpdate:modelValue":c=>o(s).ingredients[l]=c,type:"text",required:"",class:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,J),[[d,o(s).ingredients[l]]]),e("button",{type:"button",onClick:c=>h(l),class:"text-red-600 hover:text-red-800"},[m(b,{name:"trash",class:"w-5 h-5"})],8,O)]))),128))])]),e("div",null,[e("div",{class:"flex justify-between items-center mb-2"},[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Шаги приготовления",-1)),e("button",{type:"button",onClick:V,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," + Добавить шаг ")]),e("div",P,[(p(!0),i(g,null,f(o(s).steps,(n,l)=>(p(),i("div",{key:l,class:"flex items-start gap-2"},[e("span",Q,v(l+1),1),a(e("textarea",{"onUpdate:modelValue":c=>o(s).steps[l]=c,required:"",rows:"2",class:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,W),[[d,o(s).steps[l]]]),e("button",{type:"button",onClick:c=>C(l),class:"text-red-600 hover:text-red-800 mt-2"},[m(b,{name:"trash",class:"w-5 h-5"})],8,X)]))),128))])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Теги",-1)),e("div",Y,[(p(!0),i(g,null,f(o(s).tags,(n,l)=>(p(),i("div",{key:l,class:"flex items-center gap-1 bg-gray-100 px-3 py-1 rounded-full"},[e("span",null,v(n),1),e("button",{type:"button",onClick:c=>T(l),class:"text-gray-500 hover:text-gray-700"},[m(b,{name:"x",class:"w-4 h-4"})],8,Z)]))),128)),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>D(u)?u.value=n:null),type:"text",onKeydown:B(y(U,["prevent"]),["enter"]),placeholder:"Добавить тег",class:"px-3 py-1 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,ee),[[d,o(u)]])])]),e("div",te,[m(j,{to:"/recipes",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:I(()=>t[12]||(t[12]=[E(" Отмена ")])),_:1}),t[13]||(t[13]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Сохранить рецепт ",-1))])],32)])])])])}}};export{ie as default};
