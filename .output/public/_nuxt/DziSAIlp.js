import S from"./C1Mbe6zW.js";import{_ as L}from"./Cfm1OL2t.js";import{r as f,g as w,m as R,c as a,o as l,a as t,v as x,b as _,x as T,j as c,G as y,A as k,F as h,p as b,t as C,w as V,d as B,s as N}from"./DKez8kYg.js";import{u as $}from"./9tO5H0Mi.js";import{_ as A}from"./DyQDcOtH.js";import"./CWq2zBiV.js";const M={class:"bg-white rounded-lg shadow-md p-6 mb-6"},U={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},j={class:"relative"},q=["value"],D=["value"],I={__name:"RecipeFilters",emits:["filter"],setup(F,{emit:v}){const n=$(),u=f(""),i=f(""),s=f(""),r=w(()=>{const p=new Set(n.recipes.map(e=>e.country));return Array.from(p).sort()}),d=w(()=>{const p=n.recipes.flatMap(m=>m.tags),e=new Set(p);return Array.from(e).sort()});R([u,i,s],()=>{g("filter",{search:u.value,country:i.value,tag:s.value})});const g=v;return(p,e)=>{const m=S;return l(),a("div",M,[t("div",U,[t("div",j,[x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>y(u)?u.value=o:null),type:"text",placeholder:"Поиск рецептов...",class:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,c(u)]]),_(m,{name:"search",class:"absolute left-3 top-2.5 text-gray-400 w-5 h-5"})]),t("div",null,[x(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>y(i)?i.value=o:null),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[3]||(e[3]=t("option",{value:""},"Все страны",-1)),(l(!0),a(h,null,b(c(r),o=>(l(),a("option",{key:o,value:o},C(o),9,q))),128))],512),[[k,c(i)]])]),t("div",null,[x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>y(s)?s.value=o:null),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[4]||(e[4]=t("option",{value:""},"Все теги",-1)),(l(!0),a(h,null,b(c(d),o=>(l(),a("option",{key:o,value:o},C(o),9,D))),128))],512),[[k,c(s)]])])])])}}},E={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},G={class:"px-4 py-6 sm:px-0"},Q={class:"flex justify-between items-center mb-6"},z={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},H={key:1,class:"bg-white rounded-lg border border-gray-200 p-8 text-center"},Y={__name:"index",setup(F){const v=$(),n=f({search:"",country:"",tag:""}),u=s=>{n.value=s},i=w(()=>v.recipes.filter(s=>{const r=!n.value.search||s.title.toLowerCase().includes(n.value.search.toLowerCase())||s.description.toLowerCase().includes(n.value.search.toLowerCase()),d=!n.value.country||s.country===n.value.country,g=!n.value.tag||s.tags.includes(n.value.tag);return r&&d&&g}));return(s,r)=>{const d=S,g=L,p=I,e=A;return l(),a("div",null,[t("main",E,[t("div",G,[t("div",Q,[r[1]||(r[1]=t("h1",{class:"text-3xl font-light text-gray-900"},"Рецепты",-1)),_(g,{to:"/recipes/add",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:V(()=>[_(d,{name:"plus",class:"w-5 h-5 mr-2"}),r[0]||(r[0]=B(" Новый рецепт "))]),_:1})]),_(p,{onFilter:u}),c(i).length>0?(l(),a("div",z,[(l(!0),a(h,null,b(c(i),m=>(l(),N(e,{key:m.id,recipe:m},null,8,["recipe"]))),128))])):(l(),a("div",H,[_(d,{name:"exclamation-circle",class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r[2]||(r[2]=t("p",{class:"text-gray-500 text-lg"},"Рецепты не найдены",-1)),r[3]||(r[3]=t("p",{class:"text-gray-400 mt-2"},"Попробуйте изменить параметры поиска",-1))]))])])])}}};export{Y as default};
