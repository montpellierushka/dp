const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BJp1ziPU.js","./C1Mbe6zW.js","./DKez8kYg.js","./RecipeMap.CpdTaNsZ.css"])))=>i.map(i=>d[i]);
import{r as v,g as F,k as D,l as V,m as I,c as a,o as n,a as e,n as z,t as d,F as y,p as h,q as S,s as M,v as w,x as B,b as P,y as j,z as q}from"./DKez8kYg.js";import{_ as T}from"./BJp1ziPU.js";import N from"./C1Mbe6zW.js";import{u as O}from"./9tO5H0Mi.js";const U={class:"h-full w-full relative"},Z={class:"absolute top-4 right-4 bg-white rounded-lg border border-gray-200 p-4 shadow-lg z-[1000]"},W={class:"flex items-center justify-between mb-2"},H={key:0,class:"space-y-2"},Q={class:"text-sm text-gray-700"},G={__name:"RouteMap",props:{route:{type:Object,required:!0}},setup(L){const k=L,_=v(null),u=v(!0);let i=null,x=null,p=[],l=null;const $={Италия:[41.9028,12.4964],Франция:[48.8566,2.3522],Испания:[40.4168,-3.7038],Япония:[35.6762,139.6503],Таиланд:[13.7563,100.5018],Греция:[37.9838,23.7275],Индия:[28.6139,77.209],Мексика:[19.4326,-99.1332],Китай:[39.9042,116.4074],Россия:[55.7558,37.6173]},g=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD","#D4A5A5","#FFB347","#47B8E0","#FF9999","#9B59B6"],C=r=>g[r%g.length],f=F(()=>k.route.countries.map(r=>({name:r,coordinates:$[r]})));D(async()=>{_.value&&(l=await V(()=>import("./BJp1ziPU.js").then(r=>r.l),__vite__mapDeps([0,1,2,3]),import.meta.url),await V(()=>import("./BJp1ziPU.js").then(r=>r.a),__vite__mapDeps([0,1,2,3]),import.meta.url),i=l.map(_.value,{center:[20,0],zoom:2,minZoom:2,maxZoom:18,zoomControl:!0,zoomAnimation:!0,fadeAnimation:!0,markerZoomAnimation:!0,maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1}),l.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",minZoom:2,maxZoom:18,noWrap:!0}).addTo(i),b())});const b=()=>{if(!i||!l||(x&&i.removeLayer(x),p.forEach(o=>i.removeLayer(o)),p=[],!u.value))return;const r=f.value.map(o=>o.coordinates);x=l.polyline(r,{color:"#4B5563",weight:3,opacity:.8,dashArray:"5, 10"}).addTo(i),f.value.forEach((o,t)=>{const c=l.divIcon({className:"custom-marker",html:`
        <div class="relative group">
          <div class="w-8 h-8 rounded-full overflow-hidden border-2 border-white shadow-lg transform transition-all duration-300 group-hover:scale-110"
               style="background-color: ${C(t)}">
            <div class="w-full h-full flex items-center justify-center text-white font-medium">
              ${t+1}
            </div>
          </div>
        </div>
      `,iconSize:[32,32],iconAnchor:[16,16]}),E=l.marker(o.coordinates,{icon:c,riseOnHover:!0,autoPan:!0}).bindPopup(`
        <div class="w-48">
          <h3 class="font-medium text-gray-900 mb-1">${o.name}</h3>
          <p class="text-sm text-gray-600">Точка ${t+1} маршрута</p>
        </div>
      `,{className:"custom-popup",maxWidth:300,minWidth:200,autoPanPadding:[50,50],closeButton:!0,offset:[0,-20]}).addTo(i);p.push(E)}),r.length>0&&i.fitBounds(r)},R=()=>{u.value=!u.value,b()};return I(()=>k.route,()=>{b()},{deep:!0}),(r,o)=>(n(),a("div",U,[e("div",{ref_key:"mapContainer",ref:_,class:"h-full w-full"},null,512),e("div",Z,[e("div",W,[o[0]||(o[0]=e("h3",{class:"text-sm font-medium text-gray-900"},"Маршрут",-1)),e("button",{onClick:R,class:"text-xs text-gray-500 hover:text-gray-700"},d(u.value?"Скрыть":"Показать"),1)]),u.value?(n(),a("div",H,[(n(!0),a(y,null,h(f.value,(t,c)=>(n(),a("div",{key:c,class:"flex items-center"},[e("div",{class:"w-3 h-3 rounded-full mr-2",style:S({backgroundColor:C(c)})},null,4),e("span",Q,d(t.name),1)]))),128))])):z("",!0)])]))}},J={class:"min-h-screen bg-gray-50"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Y={class:"lg:col-span-2"},ee={class:"bg-white rounded-lg shadow-sm overflow-hidden"},te={class:"h-[600px]"},se={class:"space-y-6"},oe={class:"bg-white rounded-lg shadow-sm p-4"},le={class:"flex items-center justify-between mb-4"},ne={class:"mb-4"},re={class:"space-y-4"},ae=["onClick"],ie={class:"flex items-start justify-between"},de={class:"font-medium text-gray-900"},ue={class:"text-sm text-gray-500 mt-1"},ce={class:"flex items-center space-x-2"},me={class:"text-sm text-gray-500"},pe=["onClick"],ve={class:"mt-2 flex flex-wrap gap-1"},xe={class:"bg-white rounded-lg shadow-sm p-4"},ge={class:"space-y-4"},fe=["onClick"],ye={class:"flex items-start justify-between"},he={class:"font-medium text-gray-900"},_e={class:"text-sm text-gray-500 mt-1"},be={class:"text-sm text-gray-500"},we={class:"mt-2 flex flex-wrap gap-1"},ke={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[2000]"},Ce={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4"},Be={class:"p-6"},$e={class:"flex items-center justify-between mb-4"},Re={class:"mt-1 flex flex-wrap gap-2"},Ee=["id","value"],Fe=["for"],Le={class:"flex justify-end space-x-3"},je={__name:"travel",setup(L){const k=O(),_=F(()=>k.recipes),u=v(""),i=v(!1),x=v(null),p=v([]),l=v({title:"",description:"",countries:[],duration:7}),$=["Италия","Франция","Испания","Япония","Таиланд","Греция","Индия","Мексика","Китай","Россия"],g=v([{id:1,title:"Средиземноморский гастротур",description:"Путешествие по лучшим ресторанам Средиземноморья",countries:["Италия","Франция","Испания","Греция"],duration:14},{id:2,title:"Азиатский кулинарный тур",description:"Знакомство с кухнями Азии",countries:["Япония","Таиланд","Китай"],duration:10},{id:3,title:"Европейский гастротур",description:"Путешествие по европейским столицам",countries:["Франция","Италия","Испания"],duration:7}]),C=F(()=>{if(!u.value)return g.value;const o=u.value.toLowerCase();return g.value.filter(t=>t.title.toLowerCase().includes(o)||t.description.toLowerCase().includes(o)||t.countries.some(c=>c.toLowerCase().includes(o)))}),f=o=>{x.value=o,map&&map.fitBounds(routePoints.value.map(t=>t.coordinates))},b=o=>p.value.some(t=>t.id===o),R=o=>{const t=p.value.findIndex(c=>c.id===o.id);t===-1?p.value.push(o):p.value.splice(t,1)},r=()=>{const o=Math.max(...g.value.map(t=>t.id))+1;g.value.push({id:o,...l.value}),i.value=!1,l.value={title:"",description:"",countries:[],duration:7}};return(o,t)=>{const c=G,E=T,A=N;return n(),a("div",J,[t[16]||(t[16]=e("div",{class:"bg-white shadow-sm"},[e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Кулинарные путешествия"),e("p",{class:"mt-2 text-gray-600"},"Откройте для себя мир через его кухню")])],-1)),e("div",K,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[x.value?(n(),M(c,{key:0,route:x.value},null,8,["route"])):(n(),M(E,{key:1,recipes:_.value},null,8,["recipes"]))])])]),e("div",se,[e("div",oe,[e("div",le,[t[8]||(t[8]=e("h2",{class:"text-lg font-medium text-gray-900"},"Маршруты",-1)),e("button",{onClick:t[0]||(t[0]=s=>i.value=!0),class:"px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors"}," Создать маршрут ")]),e("div",ne,[w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),type:"text",placeholder:"Поиск маршрутов...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-gray-200"},null,512),[[B,u.value]])]),e("div",re,[(n(!0),a(y,null,h(C.value,s=>(n(),a("div",{key:s.id,class:"bg-gray-50 rounded-lg p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:m=>f(s)},[e("div",ie,[e("div",null,[e("h3",de,d(s.title),1),e("p",ue,d(s.countries.length)+" стран",1)]),e("div",ce,[e("span",me,d(s.duration)+" дней",1),e("button",{onClick:j(m=>R(s),["stop"]),class:"text-gray-400 hover:text-red-500 transition-colors"},[P(A,{name:b(s.id)?"heart":"heart-outline",class:"w-5 h-5"},null,8,["name"])],8,pe)])]),e("div",ve,[(n(!0),a(y,null,h(s.countries,m=>(n(),a("span",{key:m,class:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full"},d(m),1))),128))])],8,ae))),128))])]),e("div",xe,[t[9]||(t[9]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Избранные маршруты",-1)),e("div",ge,[(n(!0),a(y,null,h(p.value,s=>(n(),a("div",{key:s.id,class:"bg-gray-50 rounded-lg p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:m=>f(s)},[e("div",ye,[e("div",null,[e("h3",he,d(s.title),1),e("p",_e,d(s.countries.length)+" стран",1)]),e("span",be,d(s.duration)+" дней",1)]),e("div",we,[(n(!0),a(y,null,h(s.countries,m=>(n(),a("span",{key:m,class:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full"},d(m),1))),128))])],8,fe))),128))])])])])]),i.value?(n(),a("div",ke,[e("div",Ce,[e("div",Be,[e("div",$e,[t[10]||(t[10]=e("h2",{class:"text-xl font-medium text-gray-900"},"Создание маршрута",-1)),e("button",{onClick:t[2]||(t[2]=s=>i.value=!1),class:"text-gray-400 hover:text-gray-500"},[P(A,{name:"close",class:"w-6 h-6"})])]),e("form",{onSubmit:j(r,["prevent"]),class:"space-y-4"},[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Название маршрута",-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.title=s),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-gray-200"},null,512),[[B,l.value.title]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Описание",-1)),w(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.description=s),rows:"3",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-gray-200"},null,512),[[B,l.value.description]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Страны",-1)),e("div",Re,[(n(),a(y,null,h($,s=>e("div",{key:s,class:"flex items-center"},[w(e("input",{id:s,"onUpdate:modelValue":t[5]||(t[5]=m=>l.value.countries=m),type:"checkbox",value:s,class:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"},null,8,Ee),[[q,l.value.countries]]),e("label",{for:s,class:"ml-2 text-sm text-gray-700"},d(s),9,Fe)])),64))])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Продолжительность (дни)",-1)),w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.duration=s),type:"number",min:"1",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-gray-200"},null,512),[[B,l.value.duration]])]),e("div",Le,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>i.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Отмена "),t[15]||(t[15]=e("button",{type:"submit",class:"px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700"}," Создать ",-1))])],32)])])])):z("",!0)])}}};export{je as default};
