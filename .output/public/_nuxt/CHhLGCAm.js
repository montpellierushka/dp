import{_ as q}from"./D1Xzauw6.js";import S from"./C1Mbe6zW.js";import{_ as B}from"./Cfm1OL2t.js";import{C as I,D as $,r as D,c as u,o as i,a as e,y as N,b as p,v as a,x as m,j as s,F as c,p as x,t as R,w as j,d as F}from"./DKez8kYg.js";import{u as L}from"./9tO5H0Mi.js";const M={class:"container mx-auto px-4 py-8"},E={class:"max-w-2xl mx-auto"},z={class:"space-y-2"},A=["onUpdate:modelValue"],G=["onClick"],H={class:"space-y-2"},J={class:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mt-2"},K=["onUpdate:modelValue"],O=["onClick"],P={class:"space-y-2"},Q=["onUpdate:modelValue"],W=["onClick"],X={class:"flex justify-end space-x-4"},re=I({__name:"add",setup(Y){const f=$(),g=L(),o=D({title:"",description:"",country:"",cookingTime:30,ingredients:[""],steps:[""],tags:[""],imageUrl:""}),y=l=>{o.value.imageUrl=l},v=()=>{o.value.ingredients.push("")},k=l=>{o.value.ingredients.splice(l,1)},_=()=>{o.value.steps.push("")},w=l=>{o.value.steps.splice(l,1)},U=()=>{o.value.tags.push("")},V=l=>{o.value.tags.splice(l,1)},h=()=>{const l={id:Date.now(),...o.value,ingredients:o.value.ingredients.filter(Boolean),steps:o.value.steps.filter(Boolean),tags:o.value.tags.filter(Boolean)};g.addRecipe(l),f.push("/recipes")};return(l,t)=>{const C=q,b=S,T=B;return i(),u("div",M,[e("div",E,[t[14]||(t[14]=e("h1",{class:"text-3xl font-bold mb-8"},"Добавить новый рецепт",-1)),e("form",{onSubmit:N(h,["prevent"]),class:"space-y-6"},[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Изображение",-1)),p(C,{onImageUploaded:y})]),e("div",null,[t[5]||(t[5]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},"Название",-1)),a(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=n=>s(o).title=n),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(o).title]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"},"Описание",-1)),a(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=n=>s(o).description=n),rows:"3",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(o).description]])]),e("div",null,[t[7]||(t[7]=e("label",{for:"country",class:"block text-sm font-medium text-gray-700 mb-2"},"Страна",-1)),a(e("input",{id:"country","onUpdate:modelValue":t[2]||(t[2]=n=>s(o).country=n),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(o).country]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"cookingTime",class:"block text-sm font-medium text-gray-700 mb-2"},"Время приготовления (минуты)",-1)),a(e("input",{id:"cookingTime","onUpdate:modelValue":t[3]||(t[3]=n=>s(o).cookingTime=n),type:"number",min:"1",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(o).cookingTime,void 0,{number:!0}]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"ingredients",class:"block text-sm font-medium text-gray-700 mb-2"},"Ингредиенты",-1)),e("div",z,[(i(!0),u(c,null,x(s(o).ingredients,(n,r)=>(i(),u("div",{key:r,class:"flex items-center space-x-2"},[a(e("input",{"onUpdate:modelValue":d=>s(o).ingredients[r]=d,type:"text",required:"",class:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,8,A),[[m,s(o).ingredients[r]]]),e("button",{type:"button",onClick:d=>k(r),class:"p-2 text-red-500 hover:text-red-600"},[p(b,{name:"trash",class:"w-5 h-5"})],8,G)]))),128)),e("button",{type:"button",onClick:v,class:"text-blue-500 hover:text-blue-600 text-sm font-medium"}," + Добавить ингредиент ")])]),e("div",null,[t[10]||(t[10]=e("label",{for:"steps",class:"block text-sm font-medium text-gray-700 mb-2"},"Шаги приготовления",-1)),e("div",H,[(i(!0),u(c,null,x(s(o).steps,(n,r)=>(i(),u("div",{key:r,class:"flex items-start space-x-2"},[e("span",J,R(r+1),1),a(e("textarea",{"onUpdate:modelValue":d=>s(o).steps[r]=d,rows:"2",required:"",class:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,8,K),[[m,s(o).steps[r]]]),e("button",{type:"button",onClick:d=>w(r),class:"p-2 text-red-500 hover:text-red-600 mt-2"},[p(b,{name:"trash",class:"w-5 h-5"})],8,O)]))),128)),e("button",{type:"button",onClick:_,class:"text-blue-500 hover:text-blue-600 text-sm font-medium"}," + Добавить шаг ")])]),e("div",null,[t[11]||(t[11]=e("label",{for:"tags",class:"block text-sm font-medium text-gray-700 mb-2"},"Теги",-1)),e("div",P,[(i(!0),u(c,null,x(s(o).tags,(n,r)=>(i(),u("div",{key:r,class:"flex items-center space-x-2"},[a(e("input",{"onUpdate:modelValue":d=>s(o).tags[r]=d,type:"text",required:"",class:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,8,Q),[[m,s(o).tags[r]]]),e("button",{type:"button",onClick:d=>V(r),class:"p-2 text-red-500 hover:text-red-600"},[p(b,{name:"trash",class:"w-5 h-5"})],8,W)]))),128)),e("button",{type:"button",onClick:U,class:"text-blue-500 hover:text-blue-600 text-sm font-medium"}," + Добавить тег ")])]),e("div",X,[p(T,{to:"/recipes",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:j(()=>t[12]||(t[12]=[F(" Отмена ")])),_:1}),t[13]||(t[13]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," Сохранить рецепт ",-1))])],32)])])}}});export{re as default};
